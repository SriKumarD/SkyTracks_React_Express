<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for src/testing/evaluator.js</title>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="..\..\prettify.css" />
    <link rel="stylesheet" href="..\..\base.css" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style type='text/css'>
        .coverage-summary .sorter {
            background-image: url(..\..\sort-arrow-sprite.png);
        }
    </style>
</head>
<body>
<div class='wrapper'>
  <div class='pad1'>
    <h1>
      <a href="..\..\index.html">All files</a> / <a href="index.html">src/testing</a> evaluator.js
    </h1>
    <div class='clearfix'>
    </div>
  </div>
  <div class='status-line low'></div>
<pre><table class="coverage">
<tr><td class="line-count quiet">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94</td><td class="line-coverage quiet"><span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">import React,<span class="cstat-no" title="statement not covered" > { Component } from 'react'<span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ></span></span></span></span>
<span class="cstat-no" title="statement not covered" >import "../App.css";</span>
import axios <span class="cstat-no" title="statement not covered" >from 'axios';<span class="cstat-no" title="statement not covered" ></span></span>
import ReactDOM <span class="cstat-no" title="statement not covered" >from "react-dom";<span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" ></span></span></span></span>
&nbsp;
class Evaluator extends Component {
<span class="fstat-no" title="function not covered" >    co</span>nstructor(props) {
<span class="cstat-no" title="statement not covered" >        super(props);<span class="cstat-no" title="statement not covered" ></span></span>
        this.containerEl = document.createElement('div');
        this.externalWindow = null;
        this.state = {
            dbMessage: null,
            testData: "",
        }
    }
    setUpDb = () =<span class="fstat-no" title="function not covered" >&gt; </span>{
        cons<span class="cstat-no" title="statement not covered" >ole.log("setup method called")</span>
        this<span class="cstat-no" title="statement not covered" >.setState({ dbMessage: null })</span>
        axio<span class="cstat-no" title="statement not covered" >s.get("http://localhost:1050/setupDb").then(response =&gt; {<span class="fstat-no" title="function not covered" ></span></span>
            cons<span class="cstat-no" title="statement not covered" >ole.log(response);</span>
            this<span class="cstat-no" title="statement not covered" >.setState({ dbMessage: response.data })</span>
        }).catch(erro<span class="fstat-no" title="function not covered" >r </span>=&gt; erro<span class="cstat-no" title="statement not covered" >r.response.data.message)</span>
    }<span class="cstat-no" title="statement not covered" ></span>
&nbsp;
    fetchReport = () =<span class="fstat-no" title="function not covered" >&gt; </span>{
        retu<span class="cstat-no" title="statement not covered" >rn axios.get("http://localhost:1050/evaluate")</span>
            .then<span class="fstat-no" title="function not covered" >((</span>response) =<span class="cstat-no" title="statement not covered" >&gt; { console.log(response.da<span class="cstat-no" title="statement not covered" >t</span>a); return response.d</span>ata })
            .catch<span class="fstat-no" title="function not covered" >(e</span>rr =&gt; <span class="cstat-no" title="statement not covered" >{ console.log(err<span class="cstat-no" title="statement not covered" >)</span>; this.setState({ testData: null <span class="cstat-no" title="statement not covered" >}</span>); return this.state.testDa</span>ta });
    }<span class="cstat-no" title="statement not covered" ></span>
&nbsp;
    evaluate = () =<span class="fstat-no" title="function not covered" >&gt; </span>{
        cons<span class="cstat-no" title="statement not covered" >ole.log("evaluate method called");</span>
        var bootstrap = docu<span class="cstat-no" title="statement not covered" >ment.createElement('link')</span>
        boot<span class="cstat-no" title="statement not covered" >strap.rel = "stylesheet"</span>
        boot<span class="cstat-no" title="statement not covered" >strap.href = "https://maxcdn.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css"</span>
        this<span class="cstat-no" title="statement not covered" >.containerEl.innerHTML = '&lt;div class="container"&gt;&lt;div class="row text-center"&gt;&lt;h2 class="text-success"&gt;Please Wait! Loading test results...&lt;/h2&gt;&lt;/div&gt;&lt;/div&gt;'</span>
        this<span class="cstat-no" title="statement not covered" >.externalWindow = window.open('', '', 'width=600,height=400,left=200,top=200');</span>
        this<span class="cstat-no" title="statement not covered" >.externalWindow.document.head.appendChild(bootstrap)</span>
        this<span class="cstat-no" title="statement not covered" >.externalWindow.document.body.appendChild(this.containerEl);</span>
        this<span class="cstat-no" title="statement not covered" >.setState({ testData: null });</span>
        retu<span class="cstat-no" title="statement not covered" >rn this.fetchReport().then((dat<span class="fstat-no" title="function not covered" >a)</span> =&gt; {</span>
            if(d<span class="cstat-no" title="statement not covered" >ata!=null){</span>
                cons<span class="cstat-no" title="statement not covered" >ole.log(data);</span>
                this<span class="cstat-no" title="statement not covered" >.setState({ testData: data });</span>
                var tableData = ""<span class="cstat-no" title="statement not covered" ></span>
                for(<span class="cstat-no" title="statement not covered" >let i =0;i&lt;data.testResult[0].assertionReport.length;i++){</span>
                    if(d<span class="cstat-no" title="statement not covered" >ata.testResult[0].assertionReport[i].status === "passed"){</span>
                        tabl<span class="cstat-no" title="statement not covered" >eData+= '&lt;tbody class="text-success font-weight-bold"&gt;&lt;tr&gt;&lt;td&gt;'+data.testResult[0].assertionReport[i].testId+'&lt;/td&gt;&lt;td&gt;'+data.testResult[0].assertionReport[i].testName+'&lt;/td&gt;&lt;td&gt;'+data.testResult[0].assertionReport[i].status+'&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;'</span>
                    } else{
                        tabl<span class="cstat-no" title="statement not covered" >eData+= '&lt;tbody class="text-danger font-weight-bold"&gt;&lt;tr&gt;&lt;td&gt;'+data.testResult[0].assertionReport[i].testId+'&lt;/td&gt;&lt;td&gt;'+data.testResult[0].assertionReport[i].testName+'&lt;/td&gt;&lt;td&gt;'+data.testResult[0].assertionReport[i].status+'&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;'</span>
                    }
                }
                this<span class="cstat-no" title="statement not covered" >.containerEl.innerHTML = '&lt;div class="container"&gt;&lt;div class="row"&gt;Report Generated at: '+new Date().toLocaleTimeString()+'&lt;/div&gt;&lt;div class="row mt-5"&gt;&lt;div class="col-4 text-left text-info"&gt;&lt;h4&gt;Total Tests: '+data.testResult[0].totalTests+'&lt;/h4&gt;&lt;/div&gt;&lt;div class="col-4 text-center text-success"&gt;&lt;h4&gt;Passed: '+data.testResult[0].passed+'&lt;/h4&gt;&lt;/div&gt;&lt;div class="col-4 text-right text-danger"&gt;&lt;h4&gt;Failed: '+data.testResult[0].failed+'&lt;/h4&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="row mt-5"&gt;&lt;h3&gt;Details:&lt;/h3&gt;&lt;table class="table table-bordered"&gt;&lt;thead class=""&gt;&lt;th&gt;ID&lt;/th&gt;&lt;th&gt;Description&lt;/th&gt;&lt;th&gt;Status&lt;/th&gt;&lt;/thead&gt;'+tableData+'&lt;/table&gt;&lt;/div&gt;&lt;/div&gt;';</span>
                this<span class="cstat-no" title="statement not covered" >.externalWindow.document.body.appendChild(this.containerEl);</span>
            } else{
                this<span class="cstat-no" title="statement not covered" >.containerEl.innerHTML = '&lt;div class="container"&gt;&lt;div class="row text-center"&gt;&lt;h2 class="text-success"&gt;Failed to fetch results please try again!&lt;/h2&gt;&lt;/div&gt;&lt;/div&gt;'</span>
            }
        })
    }<span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ></span></span></span>
&nbsp;
<span class="fstat-no" title="function not covered" >    re</span>nder() {
<span class="cstat-no" title="statement not covered" >        return (</span>
            &lt;div&gt;
                {/* Message at the top after db setup */}
                {this.state.dbMessage ? (
                    &lt;div className="col-md-5 offset-3"&gt;
                        &lt;div className="alert alert-info alert-dismissible" id="alert"&gt;
                            &lt;button type="button" className="close" data-dismiss="alert"&gt;&amp;times;&lt;/button&gt;
                            &lt;strong&gt;{this.state.dbMessage}&lt;/strong&gt;
                        &lt;/div&gt;
                    &lt;/div&gt;
                ) : null}
&nbsp;
                {/* Displays the button at the bottom right corner */}
                &lt;div className="adminActions"&gt;
                    &lt;input type="checkbox" name="adminToggle" className="adminToggle" /&gt;
                    &lt;a className="adminButton" href="#!"&gt;&lt;img src="assets/test.png" alt="admin button comes here" height="60vw" width="60vw" /&gt;&lt;/a&gt;
                    &lt;div className="adminButtons"&gt;
                        &lt;a title="Setup DB" href="#!" onClick={this.setUpDb}&gt;&lt;img src="./assets/db.png" alt="setup button comes here" height="27px" width="30px" /&gt;&lt;/a&gt;
                        &lt;a title="Evaluate" href="#!" data-toggle="modal" data-target="#myModal" onClick={this.evaluate}&gt;&lt;img src="assets/search.png"
                            alt="evaluator button comes here" height="27px" width="30px" /&gt;&lt;/a&gt;
                    &lt;/div&gt;
                &lt;/div&gt;
                
                {/* Display the test cases in a new window */}
                {this.state.testData ? ReactDOM.createPortal(this.props.children, this.containerEl) : null}
            &lt;/div&gt;
&nbsp;
        )
    }<span class="cstat-no" title="statement not covered" ></span>
}
&nbsp;
&nbsp;
export default Evaluator;</pre></td></tr>
</table></pre>
<div class='push'></div><!-- for sticky footer -->
</div><!-- /wrapper -->
<div class='footer quiet pad2 space-top1 center small'>
  Code coverage
  generated by <a href="https://istanbul.js.org/" target="_blank">istanbul</a> at Mon Aug 03 2020 12:05:03 GMT+0530 (India Standard Time)
</div>
</div>
<script src="..\..\prettify.js"></script>
<script>
window.onload = function () {
        if (typeof prettyPrint === 'function') {
            prettyPrint();
        }
};
</script>
<script src="..\..\sorter.js"></script>
</body>
</html>
